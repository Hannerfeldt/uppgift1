!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./public",n(n.s=2)}([function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t,n){n(3),e.exports=n(9)},function(e,t,n){(function(t){const o=n(1),i=o(),r=n(0),s=n(4),{router:a}=n(5),c=n(7).databaseURL;s.config({path:"./config/.env"});var l=n(8);i.use(l.urlencoded({extended:!1})),i.use(o.static(t+"../public")),i.set("views","views"),i.set("view engine","ejs");console.log({dbURL:c}),r.connect(c,{useNewUrlParser:!0,useUnifiedTopology:!0}).then(()=>{console.log("connected")}).catch(e=>{console.log(e)}),i.use(a),port=process.env.PORT||8e3,i.listen(port,()=>console.log(`Live at ${port}...`)),e.exports={app:i}}).call(this,"/")},function(e,t){e.exports=require("dotenv")},function(e,t,n){const o=n(1).Router(),r=n(0),s=n(6);let a,c,l;const u=r.model("listitem",s);!async function(){a=[],(await u.find({})).forEach(e=>{a.push(e)})}(),o.get("/",async(e,t)=>{c=[],setTimeout(()=>{for(i=0;i<5;i++)null==a[i]?console.log("end of array"):c.push(a[i]);l=a.length,t.render("list",{tempArr:c,arrLength:l})},2e3)}),o.get("/:id",async(e,t)=>{for(c=[],pageThing=5*e.params.id,console.log("mjau"),i=pageThing;i<pageThing+5;i++)null==a[i]?console.log("end of array"):c.push(a[i]);l=a.length,t.render("list",{tempArr:c,arrLength:l})}),o.post("/",async(e,t,n)=>{!async function(e){const t=new u({listitem:e,date:Date.now()});a.push(t),await t.save()}(e.body.listitem),t.redirect("/")}),o.get("/delete/:id",(e,t)=>{!async function(e){await u.deleteOne({_id:a[e]._id}),a.splice(e,1)}(e.params.id),t.redirect("/")}),o.get("/update/:id",async(e,t)=>{const n=await u.findOne({listitem:a[e.params.id].listitem});index=e.params.id,setTimeout(()=>{t.render("update",{itemRes:n,index:index})},2e3)}),o.post("/update/:id",async(e,t)=>{await u.replaceOne({listitem:a[e.params.id].listitem},{listitem:e.body.listitem,date:Date.now()});a[e.params.id].listitem=e.body.listitem,a[e.params.id].date=Date.now(),t.redirect("/")}),o.get("/sort/sort",async(e,t)=>{console.log("Voof"),a=[],(await u.find({}).sort({date:-1})).forEach(e=>{a.push(e)}),setTimeout(()=>{console.log(a)},700),t.redirect("/")}),e.exports={router:o}},function(e,t,n){const o=new(n(0).Schema)({listitem:String,date:{type:Date,default:Date.now}});e.exports=o},function(e,t){e.exports={databaseURL:"mongodb+srv://Jonathan:1234@clusters-r2oal.mongodb.net/test"}},function(e,t){e.exports=require("body-parser")},function(e,t){}]);